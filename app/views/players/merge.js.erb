<% @player.same_as_me.each do |id| %>
  $("#<%=id%>").attr('id', "<%= @player.id %>");
<% end %>

<% @teams.each do |t| 
		team = Team.find(t) %>
var keptRow
$('#t<%= team.id %> input[checked=checked]').each(function(i){
	if(i == 0){
		keptRow = this;
  }  
  else{
	  row = this.parents('tr');
	  row.css('background-color', '#cccccc');
		row.fadeOut('slow');
	}
});
<% games = team.games.sort_by { |game| game[:date] } %>
keptRow.html("<tr><%= escape_javascript(render(:partial=>'row_games_played', :locals => {:player => @player, :games => games })) %></tr>");
<% end %>